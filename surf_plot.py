#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Sat Jul  6 17:36:03 2024

@author: arwan
"""

# import relevant modules
from osgeo import gdal
import numpy as np
import matplotlib.pyplot as plt

# Specify the input file
dem_new = 'example_image.tif'

# Creating the 3D figure
fig = plt.figure()

# New DEM 3D plot
ax = fig.add_subplot(111, projection='3d')
dem_2 = gdal.Open(dem_new)
dem_array_2 = dem_2.ReadAsArray()

lin_x_2 = np.linspace(0,1,dem_array_2.shape[1],endpoint=False)
lin_y_2 = np.linspace(0,1,dem_array_2.shape[2],endpoint=False)
y,x = np.meshgrid(lin_y_2,lin_x_2)
z = dem_array_2[1, :, :]
surf = ax.plot_surface(x,y,z,cmap='terrain', edgecolor='none')
fig.colorbar(surf, shrink=0.5, aspect=10)
ax.set_title('3D Nisqually-Gletscher Oberfl√§che (2017)')
plt.xticks([])
plt.yticks([])

plt.ion()

# Show the plot
plt.show()